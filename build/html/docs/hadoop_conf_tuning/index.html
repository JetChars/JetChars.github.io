

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Hadoop Configuration Tuning &mdash; JetChars alpha documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="JetChars alpha documentation" href="../../index.html"/>
        <link rel="next" title="HiBench - The Hadoop BenchMark Suit" href="../hadoop_hibench/index.html"/>
        <link rel="prev" title="Hadoop" href="../hadoop/index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> JetChars
          

          
          </a>

          
            
            
              <div class="version">
                0.1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../cloud_computing.html">Cloud Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws/index.html">AWS &#8211; Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws_vpn/index.html">Build VPN with AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/index.html">Docker</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph.html">Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_api.html">Ceph APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_deploy.html">Ceph Deploy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_issues.html">Ceph Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_mgmt_platforms.html">Ceph Management Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_mgmt_platforms_cn.html">Ceph 管理监控平台</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_openstack.html">Ceph w/ OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_ops.html">Ceph Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_rest.html">Ceph RESTful API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../web/bootstrap.html">bootstrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/html.html">HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/httpd.html">Apache Httpd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/rest.html">RESTful API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/web.html">Web Server</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../openstack/index.html">OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nova.html">Nova</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sahara/index.html">Sahara</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kvm_optimization/index.html">KVM Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devstack/index.html">DevStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devstack_dvr/index.html">DevStack with DVR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devstack_t13g/index.html">DevStack Trouble Shooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../o7k_docker/index.html">OpenStack &amp; Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osp7_director.html">OpenStack Platform 7 Director</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../hadoop/index.html">Hadoop</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Hadoop Configuration Tuning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#rack-awareness">Rack Awareness</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#assumption">Assumption</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replica-placement">Replica Placement</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-new-block">Creating New Block</a></li>
<li class="toctree-l4"><a class="reference internal" href="#replicate-existing-block">Replicate Existing Block</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#topology-script">Topology Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-whether-rack-awareness-is-enabled">Check whether rack awareness is enabled</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#check-hdfs-topology-info">Check hdfs topology info</a></li>
<li class="toctree-l4"><a class="reference internal" href="#check-replica-placement">Check replica placement</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hadoop-virtualization-extension-hve">Hadoop Virtualization Extension(HVE)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hadoop_hibench/index.html">HiBench - The Hadoop BenchMark Suit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doopshot/index.html">DoopShot</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../linux/dig.html">dig &#8211; Domain Information Groper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/freebsd.html">FreeBSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_auto.html">Linux Automizaiton Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_disk.html">Linux Disk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_doc.html">Documentation Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_info.html">Get System Infos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_mon.html">Linux Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_net.html">Linux Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_pkg.html">Linux Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_virt.html">Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/shell.html">Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/ubuntu.html">Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pxe/index.html">PXE &#8211; Preboot Execution Enviriment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../screen/index.html">Screen - Full-screen window manager</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../git.html">Git &#8211; Extraordinary version contrl software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../github/index.html">GitHub &#8211; Git repository hosting service</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../python/cython.html">Cython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/pelican.html">pelican</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/pep8.html">PEP8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/psdash.html">psdash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/py_apps.html">Python Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/py_builtin.html">Python Built-in Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/py_issues.html">Python Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/python.html">Python</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../regex/index.html">Regular Expression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql/index.html">SQL &#8211; Structured Query Language</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rst.html">reStructured Text (rst)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../md.html">MarkDown (md)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../svg/index.html">Scalable Vector Graphics (SVG)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../netease_homework/os.html">Operating System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sort.html">Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_structure.html">Review DataStructure with Pics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../amqp/index.html">AMQP &#8211; Advanced Message Queuing Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../microservices/index.html">MicroServices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows/index.html">Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mac.html">Mac as Main OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vim.html">Vim - My Favourite Editor</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../kickstart/index.html">Kickstart Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">JetChars</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
    <li>Hadoop Configuration Tuning</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/docs/hadoop_conf_tuning/index.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hadoop-configuration-tuning">
<h1>Hadoop Configuration Tuning<a class="headerlink" href="#hadoop-configuration-tuning" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<p><a class="reference external" href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/releasenotes.html">Hadoop 2.6.0 Release Note</a></p>
<div class="section" id="rack-awareness">
<h2>Rack Awareness<a class="headerlink" href="#rack-awareness" title="Permalink to this headline">¶</a></h2>
<p>Typically large Hadoop clusters are arranged in racks and network traffic between different nodes with in the same rack is much more desirable than network traffic across the racks. In addition NameNode tries to place replicas of block on multiple racks for improved fault tolerance. Hadoop lets the cluster administrators decide which rack a node belongs to through configuration variable <code class="docutils literal"><span class="pre">net.topology.script.file.name</span></code>. When this script is configured, each node runs the script to determine its rack id. A default installation assumes all the nodes belong to the same rack. This feature and configuration is further described in PDF attached to <a class="reference external" href="https://issues.apache.org/jira/browse/HADOOP-692">HADOOP-692</a></p>
<img alt="../../_images/network_topology.png" src="../../_images/network_topology.png" />
<ul class="simple">
<li>distance(/D1/R1/H1,/D1/R1/H1)=0  same datanode</li>
<li>distance(/D1/R1/H1,/D1/R1/H2)=2  same rack different datanode</li>
<li>distance(/D1/R1/H1,/D1/R1/H4)=4  same DataCenter different rack</li>
<li>distance(/D1/R1/H1,/D2/R3/H7)=6  different DataCenter</li>
</ul>
<div class="section" id="assumption">
<h3>Assumption<a class="headerlink" href="#assumption" title="Permalink to this headline">¶</a></h3>
<p>Bandwidth in/out of a subtree may be less than the total bandwidth of machines within the subtree.</p>
</div>
<div class="section" id="replica-placement">
<h3>Replica Placement<a class="headerlink" href="#replica-placement" title="Permalink to this headline">¶</a></h3>
<p>The block replica placement policy is intended to get a tradeoff between <code class="docutils literal"><span class="pre">minimizing</span> <span class="pre">the</span> <span class="pre">write</span> <span class="pre">cost</span></code> and <code class="docutils literal"><span class="pre">maximizing</span> <span class="pre">data</span> <span class="pre">reliability</span> <span class="pre">and</span> <span class="pre">availability,</span> <span class="pre">and</span> <span class="pre">aggregate</span> <span class="pre">read</span> <span class="pre">bandwidth</span></code>.</p>
<div class="section" id="creating-new-block">
<h4>Creating New Block<a class="headerlink" href="#creating-new-block" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">First replica on local node</p>
</li>
<li><p class="first">Second replica on different node at same rack</p>
</li>
<li><p class="first">Third replica on different node at different rack</p>
</li>
<li><dl class="first docutils">
<dt>Other replicas follow the rules below</dt>
<dd><ul class="first last simple">
<li>Each node has at most one replica</li>
<li>If replicas are less than racks*2, no more than 2 replicas on the same rack</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="replicate-existing-block">
<h4>Replicate Existing Block<a class="headerlink" href="#replicate-existing-block" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>If one replica exists, put 2nd replica on different rack</li>
<li>If two replicas on same rack, put 3rd replica on different rack</li>
<li>If two replicas on different racks, put 3rd replica on the same rack with replica 1</li>
<li>If there are more than 3 available replicas, then put other replicas randomly.</li>
</ul>
</div>
</div>
<div class="section" id="topology-script">
<h3>Topology Script<a class="headerlink" href="#topology-script" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add parameter <code class="docutils literal"><span class="pre">net.topology.script.file.name</span></code> to <strong>core-site.xml</strong></li>
</ul>
<div class="sidebar">
<p class="first sidebar-title">Note</p>
<p class="last">The script name that should be invoked to resolve DNS names to NetworkTopology names. Example: the script would take host.foo.bar as an argument, and return /rack1 as the output.</p>
</div>
<ul class="simple">
<li>Write script file</li>
</ul>
<p><em>Sample c script</em></p>
<div class="highlight-c"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span> <span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[]){</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span> <span class="p">;</span><span class="n">i</span><span class="o">&lt;</span> <span class="n">argc</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">ipStr</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;/rack1/&quot;</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="o">&lt;&lt;</span><span class="s">&quot; &quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p><em>Sample python script</em></p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">string</span> <span class="kn">import</span> <span class="n">join</span>

<span class="n">DEFAULT_RACK</span> <span class="o">=</span> <span class="s1">&#39;/default/rack0&#39;</span><span class="p">;</span>
<span class="n">RACK_MAP</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;10.72.10.1&#39;</span> <span class="p">:</span> <span class="s1">&#39;/datacenter0/rack0&#39;</span><span class="p">,</span>
<span class="s1">&#39;10.112.110.26&#39;</span> <span class="p">:</span> <span class="s1">&#39;/datacenter1/rack0&#39;</span><span class="p">,</span>
<span class="s1">&#39;10.112.110.27&#39;</span> <span class="p">:</span> <span class="s1">&#39;/datacenter1/rack0&#39;</span><span class="p">,</span>
<span class="s1">&#39;10.112.110.28&#39;</span> <span class="p">:</span> <span class="s1">&#39;/datacenter1/rack0&#39;</span><span class="p">,</span>
<span class="s1">&#39;10.2.5.1&#39;</span> <span class="p">:</span> <span class="s1">&#39;/datacenter2/rack0&#39;</span><span class="p">,</span>
<span class="s1">&#39;10.2.10.1&#39;</span> <span class="p">:</span> <span class="s1">&#39;/datacenter2/rack1&#39;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">DEFAULT_RACK</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">join</span><span class="p">([</span><span class="n">RACK_MAP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">DEFAULT_RACK</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]],</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p><em>Sample bash shell script</em></p>
<div class="highlight-shell"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">HADOOP_CONF</span><span class="o">=</span>/etc/hadoop/conf

<span class="k">while</span> <span class="o">[</span> <span class="nv">$#</span> -gt <span class="m">0</span> <span class="o">]</span> <span class="p">;</span> <span class="k">do</span>
    <span class="nv">nodeArg</span><span class="o">=</span><span class="nv">$1</span>
    exec&lt; <span class="si">${</span><span class="nv">HADOOP_CONF</span><span class="si">}</span>/topology.data
    <span class="nv">result</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
    <span class="k">while</span> <span class="nb">read</span> line <span class="p">;</span> <span class="k">do</span>
        <span class="nv">ar</span><span class="o">=(</span> <span class="nv">$line</span> <span class="o">)</span>
        <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">ar</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="nv">$nodeArg</span><span class="s2">&quot;</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
            <span class="nv">result</span><span class="o">=</span>”<span class="si">${</span><span class="nv">ar</span><span class="p">[1]</span><span class="si">}</span>”
        <span class="k">fi</span>
    <span class="k">done</span>
    <span class="nb">shift</span>
    <span class="k">if</span> <span class="o">[</span> -z <span class="s2">&quot;</span><span class="nv">$result</span><span class="s2">&quot;</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
        <span class="nb">echo</span> -n <span class="s2">&quot;/default/rack &quot;</span>
    <span class="k">else</span>
        <span class="nb">echo</span> -n <span class="s2">&quot;</span><span class="nv">$result</span><span class="s2"> &quot;</span>
    <span class="k">fi</span>
<span class="k">done</span>
</pre></div>
</td></tr></table></div>
<div class="sidebar">
<p class="first sidebar-title">Important !</p>
<p class="last"><strong>topology data</strong> need to contain hostname, hostname.region, IP of each node.</p>
</div>
<p>Topology data</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>hadoopdata1.ec.com     /dc1/rack1
hadoopdata1            /dc1/rack1
10.1.1.1               /dc1/rack2
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="check-whether-rack-awareness-is-enabled">
<h3>Check whether rack awareness is enabled<a class="headerlink" href="#check-whether-rack-awareness-is-enabled" title="Permalink to this headline">¶</a></h3>
<div class="section" id="check-hdfs-topology-info">
<h4>Check hdfs topology info<a class="headerlink" href="#check-hdfs-topology-info" title="Permalink to this headline">¶</a></h4>
<div class="highlight-shell"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ hadoop dfsadmin -report
Name: 172.16.0.4:50010 <span class="o">(</span>172.16.0.4<span class="o">)</span>
Hostname: r16s04
Rack: /dc1/rack16
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="check-replica-placement">
<h4>Check replica placement<a class="headerlink" href="#check-replica-placement" title="Permalink to this headline">¶</a></h4>
<div class="highlight-shell"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ hdfs dfs -cat /HiBench/benchmarks/TestDFSIO-Enh/_merged_reports.txt
/HiBench/benchmarks/TestDFSIO-Enh/io_write/part-00000 <span class="m">414033800</span> bytes, <span class="m">4</span> block<span class="o">(</span>s<span class="o">)</span>:  OK
0. BP-2107384216-192.168.16.3-1432011436876:blk_1073752772_11948 <span class="nv">len</span><span class="o">=</span><span class="m">134217728</span> <span class="nv">repl</span><span class="o">=</span><span class="m">3</span> <span class="o">[</span>/dc1/rack16/node2/172.16.0.2:50010, /dc1/rack16/node3/172.16.0.3:50010, /dc1/rack16/node4/172.16.0.4:50010<span class="o">]</span>
1. BP-2107384216-192.168.16.3-1432011436876:blk_1073752773_11949 <span class="nv">len</span><span class="o">=</span><span class="m">134217728</span> <span class="nv">repl</span><span class="o">=</span><span class="m">3</span> <span class="o">[</span>/dc1/rack16/node3/172.16.0.3:50010, /dc1/rack16/node1/172.16.0.1:50010, /dc1/rack16/node2/172.16.0.2:50010<span class="o">]</span>
2. BP-2107384216-192.168.16.3-1432011436876:blk_1073752774_11950 <span class="nv">len</span><span class="o">=</span><span class="m">134217728</span> <span class="nv">repl</span><span class="o">=</span><span class="m">3</span> <span class="o">[</span>/dc1/rack16/node2/172.16.0.2:50010, /dc1/rack16/node3/172.16.0.3:50010, /dc1/rack16/node4/172.16.0.4:50010<span class="o">]</span>
3. BP-2107384216-192.168.16.3-1432011436876:blk_1073752775_11951 <span class="nv">len</span><span class="o">=</span><span class="m">11380616</span> <span class="nv">repl</span><span class="o">=</span><span class="m">3</span> <span class="o">[</span>/dc1/rack16/node2/172.16.0.2:50010, /dc1/rack16/node1/172.16.0.1:50010, /dc1/rack16/node3/172.16.0.3:50010<span class="o">]</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
<div class="section" id="hadoop-virtualization-extension-hve">
<h2>Hadoop Virtualization Extension(HVE)<a class="headerlink" href="#hadoop-virtualization-extension-hve" title="Permalink to this headline">¶</a></h2>
<p>HVE is a new feature that extends the Hadoop topology awareness mechanism to account for the virtualization layer and refine data-locality-related policies. It is designed to enhance the reliability and performance of virtualized Hadoop clusters with extended topology layer and refined locality related policies. Test results documented in the following sections of this paper do show that reliability and performance can be optimized by taking advantage of this awareness of the virtualization topology.</p>
<div class="line-block">
<div class="line">HVE was developed by VMware engineers working with Apache Hadoop open source community, and the resulting patches have been contributed back to Apache Hadoop on trunk and branch-1. Umbrella JIRA <a class="reference external" href="https://issues.apache.org/jira/browse/HADOOP-8468">HADOOP-8468</a> tracks progress of this effort in the Apache community. <a class="footnote-reference" href="#id2" id="id1">[1]</a></div>
</div>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="http://www.vmware.com/files/pdf/Hadoop-Virtualization-Extensions-on-VMware-vSphere-5.pdf">http://www.vmware.com/files/pdf/Hadoop-Virtualization-Extensions-on-VMware-vSphere-5.pdf</a></td></tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../hadoop_hibench/index.html" class="btn btn-neutral float-right" title="HiBench - The Hadoop BenchMark Suit" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../hadoop/index.html" class="btn btn-neutral" title="Hadoop" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, JetChars.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'alpha',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>