

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Linux Disk &mdash; JetChars 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="JetChars 0.1 documentation" href="../../index.html"/>
        <link rel="next" title="Documentation Tools" href="../linux_doc/index.html"/>
        <link rel="prev" title="HiBench - The Hadoop BenchMark Suit" href="../hadoop_hibench/index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../../index.html" class="icon icon-home"> JetChars
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../cloud_computing/index.html">Cloud Computing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cloud_computing/index.html#aws-amazon-web-services">AWS &#8211; Amazon Web Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cloud_computing/index.html#data-pipeline">Data Pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cloud_computing/index.html#emr-managed-hadoop-framework">EMR &#8211; Managed Hadoop Framework</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cloud_computing/index.html#docker">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloud_computing/index.html#id2">Ceph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloud_computing/index.html#mesos">Mesos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cloud_computing/index.html#dcos-one-command-control-of-data-center-services">DCOS &#8211; One command control of data center services</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cloud_computing/index.html#terminologies">Terminologies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../aws/index.html">AWS &#8211; Amazon Web Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../aws/index.html#storage">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/index.html#compute">Compute</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/index.html#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/index.html#terms">Terms</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../openstack/index.html">OpenStack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../openstack/index.html#nova">Nova</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../openstack/index.html#id1">nova-docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../openstack/index.html#nova-rootwrap">nova-rootwrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../openstack/index.html#management">Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../openstack/index.html#secgroup">SecGroup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../openstack/index.html#keypair">KeyPair</a></li>
<li class="toctree-l4"><a class="reference internal" href="../openstack/index.html#flavor">Flavor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../openstack/index.html#heat">Heat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../openstack/index.html#horizon">Horizon</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../openstack/index.html#dependency">Dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../openstack/index.html#congiure-file">Congiure file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../openstack/index.html#refresh-horizon">Refresh horizon</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../openstack/index.html#id7">Cinder</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../openstack/index.html#components">Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../openstack/index.html#storage-backend">Storage backend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../openstack/index.html#work-flow">work flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../openstack/index.html#create-cinder-volume">create cinder volume</a></li>
<li class="toctree-l4"><a class="reference internal" href="../openstack/index.html#delete-cinder-volume">delete cinder volume</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../openstack/index.html#glance">Glance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../openstack/index.html#sahara">Sahara</a></li>
<li class="toctree-l2"><a class="reference internal" href="../openstack/index.html#neutron">Neutron</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../openstack/index.html#congiuration-files">Congiuration Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../openstack/index.html#developers">Developers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../openstack/index.html#launchpad-bug-status">Launchpad bug status</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../openstack/index.html#terminologies">Terminologies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../openstack/index.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kvm_optimization/index.html">KVM Optimization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../kvm_optimization/index.html#disk">Disk</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../kvm_optimization/index.html#asynchronous-io">Asynchronous IO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kvm_optimization/index.html#disk-cache-mode">Disk Cache Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kvm_optimization/index.html#storage-backend">Storage Backend</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../kvm_optimization/index.html#memory">Memory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../kvm_optimization/index.html#drop-memory-cache">Drop Memory Cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kvm_optimization/index.html#hugepages">HugePages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../kvm_optimization/index.html#check-hugepage-status">Check HugePage status</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kvm_optimization/index.html#enable-1gb-hugepage">Enable 1GB HugePage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kvm_optimization/index.html#anonymous-hugepages-ahp">Anonymous HugePages (AHP)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kvm_optimization/index.html#transparent-hugepages-thp">Transparent HugePages(THP)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../kvm_optimization/index.html#network">Network</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../kvm_optimization/index.html#mtu-size">MTU Size</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kvm_optimization/index.html#turn-off-nic-s-offloads">Turn off NIC&#8217;s offloads</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../kvm_optimization/index.html#improve-instance-s-launch-speed">Improve Instance&#8217;s Launch Speed</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../devstack/index.html">DevStack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../devstack/index.html#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devstack/index.html#executable-files">Executable files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devstack/index.html#config-files">Config files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../devstack/index.html#service-list">Service List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../devstack/index.html#switches">Switches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../devstack/index.html#multi-host">Multi Host</a></li>
<li class="toctree-l3"><a class="reference internal" href="../devstack/index.html#log">Log</a></li>
<li class="toctree-l3"><a class="reference internal" href="../devstack/index.html#neutron">Neutron</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../devstack/index.html#components">Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../devstack/index.html#network-node">Network Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../devstack/index.html#compute-nodes">Compute Nodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../devstack/index.html#cinder">Cinder</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../devstack/index.html#dependency">Dependency</a></li>
<li class="toctree-l4"><a class="reference internal" href="../devstack/index.html#default-values">Default Values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../devstack/index.html#nova">Nova</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../devstack/index.html#configure-file">Configure file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../devstack/index.html#swift">Swift</a></li>
<li class="toctree-l3"><a class="reference internal" href="../devstack/index.html#sahara">Sahara</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../devstack/index.html#post-script-file">Post Script file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../devstack_dvr/index.html">DevStack with DVR</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../devstack_dvr/index.html#brief-intro">Brief Intro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devstack_dvr/index.html#configure-network-node">Configure Network Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devstack_dvr/index.html#configure-compute-node">Configure Compute Node</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../devstack_t13g/index.html">DevStack Trouble Shooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../devstack_t13g/index.html#pip">Pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devstack_t13g/index.html#python">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devstack_t13g/index.html#rabbit">Rabbit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devstack_t13g/index.html#mysql">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devstack_t13g/index.html#apache">Apache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devstack_t13g/index.html#other-issues">Other issues</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hadoop/index.html">Hadoop</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hadoop/index.html#unlimit-non-root-user-s-resources">Unlimit Non-root User&#8217;s Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hadoop/index.html#crunch">crunch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hadoop/index.html#id2">CDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hadoop/index.html#issues">Issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hadoop_conf_tuning/index.html">Hadoop Configuration Tuning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hadoop_conf_tuning/index.html#rack-awareness">Rack Awareness</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hadoop_conf_tuning/index.html#assumption">Assumption</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hadoop_conf_tuning/index.html#replica-placement">Replica Placement</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../hadoop_conf_tuning/index.html#creating-new-block">Creating New Block</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hadoop_conf_tuning/index.html#replicate-existing-block">Replicate Existing Block</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../hadoop_conf_tuning/index.html#topology-script">Topology Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hadoop_conf_tuning/index.html#check-whether-rack-awareness-is-enabled">Check whether rack awareness is enabled</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../hadoop_conf_tuning/index.html#check-hdfs-topology-info">Check hdfs topology info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hadoop_conf_tuning/index.html#check-replica-placement">Check replica placement</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hadoop_conf_tuning/index.html#hadoop-virtualization-extension-hve">Hadoop Virtualization Extension(HVE)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hadoop_hibench/index.html">HiBench - The Hadoop BenchMark Suit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hadoop_hibench/index.html#what-is-hibench">What is HiBench?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hadoop_hibench/index.html#benchmark-types">BenchMark Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hadoop_hibench/index.html#configuration-running-scripts">Configuration &amp; Running scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hadoop_hibench/index.html#default-configurations">Default Configurations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hadoop_hibench/index.html#dfsioe">DFSIOE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hadoop_hibench/index.html#sort">Sort</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hadoop_hibench/index.html#wordcount">WordCount</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hadoop_hibench/index.html#k-means">k-means</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Linux Disk</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#filesystem">Filesystem</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kernnel-vfs">Kernnel &#8211; VFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#driver">Driver</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mke2fs">mke2fs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#devices">Devices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#storage-cards">Storage Cards</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serial-devices">Serial Devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network-storage">Network Storage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mount">Mount</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mount-a-device">Mount a device</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unmount-a-device">Unmount a device</a></li>
<li class="toctree-l3"><a class="reference internal" href="#auto-mount">Auto Mount</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#lvm-logical-volume-management">LVM &#8211; Logical volume management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#management">Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-lvm-infos">Check lvm infos</a></li>
<li class="toctree-l3"><a class="reference internal" href="#issues">Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#loop-device">Loop Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="#raid">RAID</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#raid10">raid10</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#disk-performance">Disk Performance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dd-convert-and-copy-a-file">dd &#8211; convert and copy a file</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../linux_doc/index.html">Documentation Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../linux_doc/index.html#sphinx-python-document-generator">Sphinx - Python Document Generator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../linux_doc/index.html#issues">Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../linux_doc/index.html#pandoc-universal-document-converter">Pandoc - Universal document converter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../linux_info/index.html">Get System Infos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../linux_info/index.html#intro">Intro</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../linux_info/index.html#tar-folder-etc">tar folder /etc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../linux_info/index.html#print-infos">print infos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../linux_info/index.html#proc-infos">proc infos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../linux_info/index.html#enviroments">Enviroments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../linux_net/index.html">Linux Network</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../linux_net/index.html#configurations">Configurations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../linux_net/index.html#home-made-proxy-setting-tool">Home made proxy setting tool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../linux_net/index.html#network-trouble-shooting">Network Trouble Shooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../linux_net/index.html#website-errs">WebSite Errs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../linux_net/index.html#ping">Ping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../linux_net/index.html#check-nic">Check NIC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../linux_net/index.html#dns-management">DNS management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../linux_net/index.html#bind-main-stream-dns-server">bind &#8211; main stream dns server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../linux_net/index.html#dnsmasq">dnsmasq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux_net/index.html#route-management">Route Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux_net/index.html#ip-commands">IP commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux_net/index.html#django-web-framework">Django &#8211; web framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux_net/index.html#open-vswitch">Open vSwitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux_net/index.html#terms">Terms</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../linux_pkg/index.html">Linux Package Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../linux_pkg/index.html#check-install">Check Install</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../linux_virt/index.html">Virtualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../linux_virt/index.html#hypervisors">Hypervisors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux_virt/index.html#libvirt">Libvirt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux_virt/index.html#virsh-virtualization-management-interface">Virsh &#8211; Virtualization Management Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux_virt/index.html#docker">Docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pxe/index.html">PXE &#8211; Preboot Execution Enviriment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pxe/index.html#dependencies">Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pxe/index.html#dhcp-server">DHCP-Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pxe/index.html#tftp-server">tftp-Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pxe/index.html#ftp-server">FTP-Server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pxe/index.html#anaconda">Anaconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pxe/index.html#kickstart">kickstart</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pxe/index.html#command-section">command section</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pxe/index.html#other-sections">other sections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pxe/index.html#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../screen/index.html">Screen - Full-screen window manager</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../screen/index.html#command-list">Command List</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../screen/index.html#commands-out-of-screen">Commands out of screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../screen/index.html#commands-inside-screen">Commands inside screen</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../screen/index.html#shortcuts-keys">Shortcuts Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../screen/index.html#configuration-files">Configuration Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vim/index.html">Vim - My Favourite Editor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../vim/index.html#commnd-mode">Commnd Mode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vim/index.html#move">Move</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vim/index.html#ex-mode">Ex Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vim/index.html#set">Set</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vim/index.html#fisa-vim-config-popular-vim-config-file">fisa-vim-config &#8211; popular vim config file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vim/index.html#id1">Sublime Text</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ovs/index.html">Open vSwitch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../amqp/index.html">AMQP &#8211; Advanced Message Queuing Protocol</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../amqp/index.html#rabbitmq">RabbitMQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mac/index.html">Mac as Main OS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mac/index.html#shortcuts">ShortCuts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mac/index.html#softwares">Softwares</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../mac/index.html#safari">Safari</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mac/index.html#popclip-rightclick-enhancement-tool">PopClip &#8211; rightclick enhancement tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mac/index.html#brew-package-management-software">brew &#8211; package management software</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mac/index.html#glims-safari-enhancement">glims &#8211; safari enhancement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mac/index.html#visual-studio-code-asp-net-5">Visual Studio Code &amp; ASP.NET 5 </a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../git/index.html">Git &#8211; Extraordinary version contrl software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../git/index.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#config-get-and-set-repository-or-global-options">Config &#8211; Get and set repository or global options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#git-proxy-command">Git Proxy Command</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../git/index.html#repository-management">Repository Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#clone-clone-a-repository-into-a-new-directory">Clone &#8211; Clone a repository into a new directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#remote-manage-set-of-tracked-repositories">Remote &#8211; Manage set of tracked repositories</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../git/index.html#branch-management">Branch Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#branch-list-create-or-delete-branches">Branch &#8211; List, create, or delete branches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#merge-join-two-or-more-development-histories-together">Merge &#8211; Join two or more development histories together</a></li>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#checkout-checkout-a-branch-or-paths-to-the-working-tree">Checkout &#8211; Checkout a branch or paths to the working tree</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../git/index.html#submit">Submit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#add-rm-add-file-contents-to-the-index-stage-files">Add/rm &#8211; Add file contents to the index (stage files)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#reset-reset-current-head-to-the-specified-state-unstage-files">Reset &#8211; Reset current HEAD to the specified state (unstage files)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#push-update-remote-refs-along-with-associated-objects">Push &#8211; Update remote refs along with associated objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#review-the-tool-to-submit-code-patches">Review &#8211; The tool to submit code patches</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../git/index.html#check-infos">Check Infos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/index.html#init-a-project">Init a project</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../github/index.html">GitHub &#8211; Git repository hosting service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../github/index.html#github-com">github.com</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../github/index.html#shortcuts">shortcuts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../github/index.html#search-engine">search engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../github/index.html#url-customization">url customization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../github/index.html#github-io-github-pages">github.io &#8211; github pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../github/index.html#git-io-short-addr-service">git.io &#8211; short addr service</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../regex/index.html">Regular Expression</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../regex/index.html#intro">Intro</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../regex/index.html#basic-regular-express">Basic Regular Express</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../regex/index.html#grep-globally-search-a-regular-expression-and-print">grep &#8211; Globally search a Regular Expression and Print</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regex/index.html#awk-pattern-directed-scanning-and-processing">awk &#8211; pattern-directed scanning and processing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../regex/index.html#synopsis">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regex/index.html#predefined-variables">Predefined variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regex/index.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../regex/index.html#sed-stream-editor">sed &#8211; stream editor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../regex/index.html#id1">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regex/index.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regex/index.html#id2">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sql/index.html">SQL &#8211; Structured Query Language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sql/index.html#grammar">Grammar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql/index.html#data-manipulation-language-dml">Data Manipulation Language (DML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql/index.html#insert">INSERT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql/index.html#update">UPDATE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql/index.html#data-definition-language-ddl">Data Definition Language (DDL)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql/index.html#create">CREATE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql/index.html#drop">DROP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql/index.html#use">USE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql/index.html#dql">DQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql/index.html#dcl">DCL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql/index.html#mysql">MySQL</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rst/index.html">reStructured Text (rst)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../rst/index.html#standard-rst">Standard rST</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rst/index.html#headings">Headings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rst/index.html#inline-mark">Inline mark</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rst/index.html#directives">Directives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rst/index.html#photos">Photos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rst/index.html#sidebar">SideBar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rst/index.html#html">HTML</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rst/index.html#sphinx-customized-rst">Sphinx Customized rST</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rst/index.html#table-of-content-tree-toctree">Table of Content Tree (toctree)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rst/index.html#paragraph-mark">Paragraph Mark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rst/index.html#code-block">Code Block</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rst/index.html#intersect-index">Intersect Index</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../rst/index.html#download">Download</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rst/index.html#maths-equttions-w-latex">Maths &amp; Equttions w/ LaTeX</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../md/index.html">MarkDown (md)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../md/index.html#symbols">Symbols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../md/index.html#gitbub-flavored">Gitbub Flavored</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../svg/index.html">Scalable Vector Graphics (SVG)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../svg/index.html#inkscape">InkScape</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../svg/index.html#shortcut-keys">Shortcut keys</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../svg/index.html#gimp">GIMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../svg/index.html#resources">Resources</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../algorithms/index.html">Sort</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../algorithms/index.html#heap-sort">heap sort</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">JetChars</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
    <li>Linux Disk</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/docs/linux_disk/index.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="linux-disk">
<h1>Linux Disk<a class="headerlink" href="#linux-disk" title="Permalink to this headline">¶</a></h1>
<div class="sidebar">
<p class="first sidebar-title">e2fsprogs</p>
<p>e2fs programs, toolkits for maintaining ext2/3/4 filesystem</p>
<ul class="last simple">
<li><strong>mke2fs</strong> - create filesystem</li>
<li><strong>mkfs.ext{2,3,4}</strong> &#8211; quickly make a filesystem</li>
<li><strong>dumpe2fs</strong> &#8211; check filesystem info</li>
<li><strong>e2label</strong> &#8211; tag a device, for partition management <code class="docutils literal"><span class="pre">e2lable</span> <span class="pre">/dev/sdb1</span> <span class="pre">wenj</span></code></li>
<li><strong>e2fsck</strong> &#8211; check filesystem&#8217;s integrity</li>
<li><strong>resize2fs</strong> &#8211; autoresize filesystem size</li>
<li><strong>tune2fs</strong> &#8211; change filesystem related parameters</li>
<li><strong>debugfs</strong> &#8211; debug a filesystem, can check or change it&#8217;s status</li>
</ul>
</div>
<div class="section" id="filesystem">
<h2>Filesystem<a class="headerlink" href="#filesystem" title="Permalink to this headline">¶</a></h2>
<div class="section" id="kernnel-vfs">
<h3>Kernnel &#8211; VFS<a class="headerlink" href="#kernnel-vfs" title="Permalink to this headline">¶</a></h3>
<p>Short for <strong>Virtual File System</strong>, or <strong>Virtual Filesystem Switch</strong>, maintain tree shaped linux filesystem</p>
<ul class="simple">
<li>It&#8217;s a glue level between storage media and filesystem, let system calls like <code class="docutils literal"><span class="pre">open()</span></code> <code class="docutils literal"><span class="pre">read()</span></code> <code class="docutils literal"><span class="pre">write()</span></code> don&#8217;t need to know to realize it in lower level</li>
<li>Sometimes short for <strong>Stackable Filesystem</strong> , because it can combine different filesystem seamlessly</li>
<li>Use command like <code class="docutils literal"><span class="pre">mount</span></code> to manage filesystem</li>
</ul>
</div>
<div class="section" id="driver">
<h3>Driver<a class="headerlink" href="#driver" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>ls /lib/modules/3.10.0-123.el7.x86_64/kernel/fs/
binfmt_misc.ko  dlm      fuse   mbcache.ko  pstore
btrfs           exofs    gfs2   nfs         squashfs
cachefiles      ext4     isofs  nfs_common  udf
cifs            fat      jbd2   nfsd        xfs
cramfs          fscache  lockd  nls
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">items</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>local</td>
<td>ext2/3/4</td>
</tr>
<tr class="row-odd"><td>network</td>
<td>sambafs/cifs/nfs/sshfs/gmailfs</td>
</tr>
<tr class="row-even"><td>cluster</td>
<td>gfs gfs2 ocfs</td>
</tr>
<tr class="row-odd"><td>distributed</td>
<td>HDFS mfs</td>
</tr>
</tbody>
</table>
<div class="section" id="mke2fs">
<h4>mke2fs<a class="headerlink" href="#mke2fs" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="29%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">option</th>
<th class="head">description</th>
<th class="head">examples</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>-t</td>
<td>specify filesys type</td>
<td>mke2fs -t ext4 /dev/sda3</td>
</tr>
<tr class="row-odd"><td>-b blocksize</td>
<td>specify block size</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>-c</td>
<td>check when creating filesys</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>-L label</td>
<td>specify volume label</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>-j</td>
<td>create journal system</td>
<td>ext2 doesn&#8217;t contain jornal ext3/4 built-in journal sys</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="devices">
<h3>Devices<a class="headerlink" href="#devices" title="Permalink to this headline">¶</a></h3>
<div class="section" id="storage-cards">
<h4>Storage Cards<a class="headerlink" href="#storage-cards" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">RAID/HBA</span></code></p>
</div>
<div class="section" id="serial-devices">
<h4>Serial Devices<a class="headerlink" href="#serial-devices" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">SATA</span></code> <code class="docutils literal"><span class="pre">SCSI</span></code> <code class="docutils literal"><span class="pre">SAS</span></code> <code class="docutils literal"><span class="pre">USB</span></code> name as <code class="docutils literal"><span class="pre">sd[a-z]</span></code></p>
</div>
<div class="section" id="network-storage">
<h4>Network Storage<a class="headerlink" href="#network-storage" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">SAN(Storage</span> <span class="pre">Area</span> <span class="pre">Network)</span></code></p>
</div>
</div>
</div>
<div class="section" id="mount">
<h2>Mount<a class="headerlink" href="#mount" title="Permalink to this headline">¶</a></h2>
<div class="sidebar">
<p class="first sidebar-title">Note</p>
<p><strong>mount.ntfs</strong></p>
<p>ubuntu&#8217;s built-in NTFS driver, rhel/centos/fedora user need download <code class="docutils literal"><span class="pre">fuse-ntfs</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mount</span><span class="o">.</span><span class="n">ntfs</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdd</span> <span class="o">/</span><span class="n">mnt</span>
</pre></div>
</div>
<p><strong>fuser</strong></p>
<p>compared w/ lsof, fuser can check which process use folder or file exactly</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">-v</span></code> show more details</li>
<li><code class="docutils literal"><span class="pre">-u</span></code> display user IDs</li>
<li><code class="docutils literal"><span class="pre">-l</span></code> show support signal list</li>
<li><code class="docutils literal"><span class="pre">-k</span> <span class="pre">-SIGNAL</span></code> send signal to all processes use this file</li>
</ul>
<table border="1" class="last docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">flag</th>
<th class="head">meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>c</td>
<td>as current folder</td>
</tr>
<tr class="row-odd"><td>e</td>
<td>as executable object</td>
</tr>
<tr class="row-even"><td>r</td>
<td>as root</td>
</tr>
<tr class="row-odd"><td>s</td>
<td>as shared lib</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mount-a-device">
<h3>Mount a device<a class="headerlink" href="#mount-a-device" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>mount [-t fstype] [-o mount_opt] device mountpoint
</pre></div>
</div>
<div class="line-block">
<div class="line"><strong>Mount Options</strong> &#8211; seperate by comma</div>
<div class="line"><br /></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">option</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ro</td>
<td>readonly</td>
</tr>
<tr class="row-odd"><td>rw</td>
<td>read and write</td>
</tr>
<tr class="row-even"><td>remount</td>
<td>mount -o remount,ro /dev/sdb1 /mnt/</td>
</tr>
<tr class="row-odd"><td>sync</td>
<td>no use memcache</td>
</tr>
<tr class="row-even"><td>async</td>
<td>default option, use memcache</td>
</tr>
<tr class="row-odd"><td>atime</td>
<td>default option, record access time</td>
</tr>
<tr class="row-even"><td>noatime</td>
<td>not record access time</td>
</tr>
<tr class="row-odd"><td>acl</td>
<td>enable acl, must enabled if use acl</td>
</tr>
<tr class="row-even"><td>loop</td>
<td>mount iso file</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="unmount-a-device">
<h3>Unmount a device<a class="headerlink" href="#unmount-a-device" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>$ umount testlvm/ -f
umount: /root/testlvm: target is busy.
        (In some cases useful info about processes that use
         the device is found by lsof(8) or fuser(1))

$ fuser -m testlvm/
/root/testlvm:       24572c

$ ps aux | grep 24572
root      24572  0.0  0.0 117056  3924 pts/0    S+   May28   0:01 -bash
root     210760  0.0  0.0 112644   960 pts/41   S+   09:44   0:00 grep --color=auto 24572c

$ kill -9 24572
umount testlvm/    # umount object can be device or mount point
</pre></div>
</div>
</div>
<div class="section" id="auto-mount">
<h3>Auto Mount<a class="headerlink" href="#auto-mount" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">configure file <code class="docutils literal"><span class="pre">/etc/fstab</span></code> file system table:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mount</span> <span class="o">-</span><span class="n">a</span>  <span class="c"># take effect fstab</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="lvm-logical-volume-management">
<h2>LVM &#8211; Logical volume management<a class="headerlink" href="#lvm-logical-volume-management" title="Permalink to this headline">¶</a></h2>
<div class="sidebar">
<p class="first sidebar-title">Terminologies</p>
<p>Every thing have an UUID</p>
<ul class="last simple">
<li><strong>PE</strong> &#8211; Physical Extend, smallest element, default size 4MB</li>
<li><strong>PV</strong> &#8211; Physical Volume</li>
<li><strong>VG</strong> &#8211; Volume Group</li>
<li><strong>LV</strong> &#8211; Logic Volume</li>
</ul>
</div>
<p>In computer storage, <em>logical volume management</em> or LVM provides a method of <em>allocating space</em> on mass-storage devices that is <em>more flexible</em> than conventional partitioning schemes. In particular, a volume manager can <strong>concatenate</strong>, <strong>stripe together</strong> or otherwise <strong>combine partitions</strong> (or block devices in general) into larger virtual ones that administrators can re-size or move, <em>potentially without interrupting system use</em>. <a class="footnote-reference" href="#id3" id="id1">[1]</a></p>
<ul class="simple">
<li>Conf-file &#8211; <code class="docutils literal"><span class="pre">/etc/lvm/lvm.conf</span></code></li>
</ul>
<div align="center" class="align-center"><img src="../../_images/lvm.svg" /></div>
<div class="section" id="management">
<h3>Management<a class="headerlink" href="#management" title="Permalink to this headline">¶</a></h3>
<div class="sidebar">
<p class="first sidebar-title">Note</p>
<p>/dev/vg0/lv0 &#8211;&gt; /dev/vg0-lv0</p>
<ul class="last simple">
<li>current version is <strong>lvm2</strong></li>
<li>check lvm version: <code class="docutils literal"><span class="pre">vgscan</span></code></li>
<li>convert LVMv1 to LVMv2: <code class="docutils literal"><span class="pre">vgconvert</span> <span class="pre">-M2</span> <span class="pre">vg0</span></code></li>
<li>rename VG vg0 to vg1: <code class="docutils literal"><span class="pre">vgrename</span> <span class="pre">vg0</span> <span class="pre">vg1</span></code></li>
</ul>
</div>
<ul class="simple">
<li>Create a Logic Volume: <code class="docutils literal"><span class="pre">pvcreate</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">vgcreate</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">lvcreate</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">mkfs.ext3</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">mount</span></code></li>
</ul>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre>pvcreate /dev/sda5 dev/sda6
vgcreate vg0 /dev/sda5 /dev/sda6
lvcreate -L 800M -n lv0 vg0
mkfs.ext3 /dev/vg0/lv0
mount /dev/vg0/lv0 /mnt<span class="sb">``</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Delete a Logic Volume: <code class="docutils literal"><span class="pre">lvremove</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">vgremove</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">pvremove</span></code></li>
</ul>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre>lvremove lv0
vgremove vg0
pvremove /dev/sda5 dev/sda6
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Expand Logic Volume: <code class="docutils literal"><span class="pre">lvextend</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">resize2fs</span></code></li>
</ul>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="c"># lvextend -L 1000M /dev/vg0/lv0    # extend to 1G</span>
lvextend -L +400M /dev/vg0/lv0     <span class="c"># extend 400M</span>
resize2fs /mnt
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Reduce Logic Volume: <code class="docutils literal"><span class="pre">umount</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">e2fsck</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">resize2fs</span></code> &#8211;&gt; <code class="docutils literal"><span class="pre">lvreduce</span></code></li>
</ul>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre>umount /mnt
e2fsck -f /dev/vg0/lv0
resize2fs /dev/vg0/lv0 180M   <span class="c">#file system resize to a smaller size</span>
lvreduce -L 1000M /dev/vg0/lv0   <span class="c">#reduce to 1000M</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Add PV: <code class="docutils literal"><span class="pre">vgextend</span></code></li>
</ul>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre>pvcreate /dev/sda8
vgextend vg0 /dev/sda8
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>Remove PV: <code class="docutils literal"><span class="pre">pvmove</span></code></li>
</ul>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="c"># pvmove /dev/sda6:1-20 /dev/sda7   # will on move pe block 1-20 to sda7</span>
pvmove /dev/sda6   <span class="c">#move PE to out of sda6(PV)</span>
vgreduce vg0 /dev/sda6   <span class="c">#reduce one or more unused PV</span>
pvremove /dev/sda6
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="check-lvm-infos">
<h3>Check lvm infos<a class="headerlink" href="#check-lvm-infos" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97</pre></div></td><td class="code"><div class="highlight"><pre><span class="hll"><span class="gp">#</span> pvs
</span><span class="go">PV         VG                        Fmt  Attr PSize  PFree</span>
<span class="go">/dev/loop1 stack-volumes-default     lvm2 a--  10.01g 10.01g</span>
<span class="go">/dev/loop2 stack-volumes-lvmdriver-1 lvm2 a--  10.01g  8.00m</span>

<span class="hll"><span class="gp">#</span> vgs
</span><span class="go">VG                        #PV #LV #SN Attr   VSize  VFree</span>
<span class="go">stack-volumes-default       1   0   0 wz--n- 10.01g 10.01g</span>
<span class="go">stack-volumes-lvmdriver-1   1   1   0 wz--n- 10.01g  8.00m</span>

<span class="hll"><span class="gp">#</span> lvs
</span><span class="go">LV                                          VG                        Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert</span>
<span class="go">volume-c86ee1fc-0881-4b85-aa8a-432f8ad1c9cb stack-volumes-lvmdriver-1 -wi-ao---- 10.00g</span>

<span class="hll"><span class="gp">#</span> pvdisplay
</span><span class="go">--- Physical volume ---</span>
<span class="go">PV Name               /dev/loop1</span>
<span class="go">VG Name               stack-volumes-default</span>
<span class="go">PV Size               10.01 GiB / not usable 2.00 MiB</span>
<span class="go">Allocatable           yes</span>
<span class="go">PE Size               4.00 MiB</span>
<span class="go">Total PE              2562</span>
<span class="go">Free PE               2562</span>
<span class="go">Allocated PE          0</span>
<span class="go">PV UUID               dohGEH-212L-10Nb-wiWQ-mjZ4-ApKS-AchT26</span>

<span class="go">--- Physical volume ---</span>
<span class="go">PV Name               /dev/loop2</span>
<span class="go">VG Name               stack-volumes-lvmdriver-1</span>
<span class="go">PV Size               10.01 GiB / not usable 2.00 MiB</span>
<span class="go">Allocatable           yes</span>
<span class="go">PE Size               4.00 MiB</span>
<span class="go">Total PE              2562</span>
<span class="go">Free PE               2</span>
<span class="go">Allocated PE          2560</span>
<span class="go">PV UUID               UdQnN2-ddmJ-w3az-Gzp3-b7pf-tIFS-IB8Pho</span>

<span class="hll"><span class="gp">#</span> vgdisplay
</span><span class="go">--- Volume group ---</span>
<span class="go">VG Name               stack-volumes-default</span>
<span class="go">System ID</span>
<span class="go">Format                lvm2</span>
<span class="go">Metadata Areas        1</span>
<span class="go">Metadata Sequence No  1</span>
<span class="go">VG Access             read/write</span>
<span class="go">VG Status             resizable</span>
<span class="go">MAX LV                0</span>
<span class="go">Cur LV                0</span>
<span class="go">Open LV               0</span>
<span class="go">Max PV                0</span>
<span class="go">Cur PV                1</span>
<span class="go">Act PV                1</span>
<span class="go">VG Size               10.01 GiB</span>
<span class="go">PE Size               4.00 MiB</span>
<span class="go">Total PE              2562</span>
<span class="go">Alloc PE / Size       0 / 0</span>
<span class="go">Free  PE / Size       2562 / 10.01 GiB</span>
<span class="go">VG UUID               VWeopN-dnmk-W6Gg-byZE-JwRw-hndS-9xa5LU</span>

<span class="go">--- Volume group ---</span>
<span class="go">VG Name               stack-volumes-lvmdriver-1</span>
<span class="go">System ID</span>
<span class="go">Format                lvm2</span>
<span class="go">Metadata Areas        1</span>
<span class="go">Metadata Sequence No  2</span>
<span class="go">VG Access             read/write</span>
<span class="go">VG Status             resizable</span>
<span class="go">MAX LV                0</span>
<span class="go">Cur LV                1</span>
<span class="go">Open LV               1</span>
<span class="go">Max PV                0</span>
<span class="go">Cur PV                1</span>
<span class="go">Act PV                1</span>
<span class="go">VG Size               10.01 GiB</span>
<span class="go">PE Size               4.00 MiB</span>
<span class="go">Total PE              2562</span>
<span class="go">Alloc PE / Size       2560 / 10.00 GiB</span>
<span class="go">Free  PE / Size       2 / 8.00 MiB</span>
<span class="go">VG UUID               5TTHgC-LXzV-7i9u-YXnG-KQTY-HXmD-SFocsq</span>

<span class="hll"><span class="gp">#</span> lvdisplay
</span><span class="go">--- Logical volume ---</span>
<span class="go">LV Path                /dev/stack-volumes-lvmdriver-1/volume-c86ee1fc-0881-4b85-aa8a-432f8ad1c9cb</span>
<span class="go">LV Name                volume-c86ee1fc-0881-4b85-aa8a-432f8ad1c9cb</span>
<span class="go">VG Name                stack-volumes-lvmdriver-1</span>
<span class="go">LV UUID                KSvISz-D19i-13Ra-ZCVj-tkSa-dco6-uX7PJ2</span>
<span class="go">LV Write Access        read/write</span>
<span class="go">LV Creation host, time r16s12, 2015-05-28 16:35:27 +0800</span>
<span class="go">LV Status              available</span>
<span class="go">  open                 1</span>
<span class="go">LV Size                10.00 GiB</span>
<span class="go">Current LE             2560</span>
<span class="go">Segments               1</span>
<span class="go">Allocation             inherit</span>
<span class="go">Read ahead sectors     auto</span>
<span class="go">- currently set to     256</span>
<span class="go">Block device           253:0</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="issues">
<h3>Issues<a class="headerlink" href="#issues" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>remove vg after pv been removed</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>$sudo vgremove r16s03-default
Incorrect metadata area header checksum on /dev/loop1 at offset 4096
vg_remove_mdas r16s03-default failed

$ sudo vgremove r16s03-default --force
/dev/loop1: lseek 4096 failed: Invalid argument
vg_remove_mdas r16s03-default failed
</pre></div>
</div>
<div class="line-block">
<div class="line"><strong>Solution :</strong></div>
<div class="line"><br /></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>sudo pvremove /dev/loop1 -ff
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>lvremove: Logical volume in use</li>
</ol>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo lvremove /dev/r16s11-lvmdriver-1/volume-daffbf30-30b9-4da3-9d34-de1c658ee38c
Logical volume r16s11-lvmdriver-1/volume-daffbf30-30b9-4da3-9d34-de1c658ee38c in use.
<span class="nv">$ </span>sudo fuser /dev/r16s11-lvmdriver-1/volume-daffbf30-30b9-4da3-9d34-de1c658ee38c
/dev/dm-0:           159892
<span class="nv">$ </span>sudo <span class="nb">kill</span> -9 159892
<span class="nv">$ </span>sudo umount /dev/r16s11-lvmdriver-1/volume-daffbf30-30b9-4da3-9d34-de1c658ee38c
</pre></div>
</div>
</div>
</div>
<div class="section" id="loop-device">
<h2>Loop Device<a class="headerlink" href="#loop-device" title="Permalink to this headline">¶</a></h2>
<p>In Unix-like operating systems, a loop device, vnd (vnode disk), or lofi (loop file interface) is a pseudo-device that makes a file accessible as a block device. <a class="footnote-reference" href="#id4" id="id2">[2]</a></p>
<div class="sidebar">
<p class="first sidebar-title">truncate</p>
<p class="last">shrink or extend the size of a file to the specified size, can be used to create a loop file
<code class="docutils literal"><span class="pre">truncate</span> <span class="pre">-s</span> <span class="pre">size</span> <span class="pre">file</span></code> <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">losetup</span> <span class="pre">-f</span> <span class="pre">--show</span> <span class="pre">/dev/lo0</span> <span class="pre">file</span></code></p>
</div>
<ul>
<li><p class="first">Get info:</p>
<div class="highlight-python"><div class="highlight"><pre>losetup loopdev   # show specified loopdev
losetup -l [-a]   # show loopdev list
losetup -j file [-o offset]
losetup -f   # Print first unused loop device
</pre></div>
</div>
</li>
<li><p class="first">Delete loop: <code class="docutils literal"><span class="pre">losetup</span> <span class="pre">-d</span> <span class="pre">loopdev...</span></code></p>
</li>
<li><p class="first">Delete all used loop devices: <code class="docutils literal"><span class="pre">losetup</span> <span class="pre">-D</span></code></p>
</li>
<li><dl class="first docutils">
<dt>Setup loop device: <code class="docutils literal"><span class="pre">losetup</span> <span class="pre">[-o</span> <span class="pre">offset]</span> <span class="pre">[--sizelimit</span> <span class="pre">size]</span> <span class="pre">[-p</span> <span class="pre">pfd]</span> <span class="pre">[-rP]</span> <span class="pre">{-f[--show]|loopdev}</span> <span class="pre">file</span></code></dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">-show</span></code> will print device name</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Resize loop device: <code class="docutils literal"><span class="pre">losetup</span> <span class="pre">-c</span> <span class="pre">loopdev</span></code></p>
</li>
</ul>
</div>
<div class="section" id="raid">
<h2>RAID<a class="headerlink" href="#raid" title="Permalink to this headline">¶</a></h2>
<div class="section" id="raid10">
<h3>raid10<a class="headerlink" href="#raid10" title="Permalink to this headline">¶</a></h3>
<img alt="../../_images/raid10.jpg" class="align-right" src="../../_images/raid10.jpg" />
<p>Also called raid1+0, build raid1 first then use two raid 1 to build a raid0. different from raid 01.</p>
</div>
</div>
<div class="section" id="disk-performance">
<h2>Disk Performance<a class="headerlink" href="#disk-performance" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dd-convert-and-copy-a-file">
<h3>dd &#8211; convert and copy a file<a class="headerlink" href="#dd-convert-and-copy-a-file" title="Permalink to this headline">¶</a></h3>
<p>The dd utility copies the standard input to the standard output.  Input data is read and written in 512-byte blocks.  If input reads are short, input from multiple reads are aggregated to form the output block.  When finished, dd displays the number of complete and partial input and output blocks and truncated input records to the standard error output.</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>bs=BYTES</td>
<td>read and write up to BYTES bytes at a time</td>
</tr>
<tr class="row-odd"><td>count=N</td>
<td>copy only N input blocks</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre>dd if=/dev/zero of=testfile bs=1M count=512 conv=fdatasync
</pre></div>
</div>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="http://en.wikipedia.org/wiki/Logical_volume_management">http://en.wikipedia.org/wiki/Logical_volume_management</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference external" href="http://en.wikipedia.org/wiki/Loop_device">http://en.wikipedia.org/wiki/Loop_device</a></td></tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../linux_doc/index.html" class="btn btn-neutral float-right" title="Documentation Tools" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../hadoop_hibench/index.html" class="btn btn-neutral" title="HiBench - The Hadoop BenchMark Suit" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, JetChars.
    </p>
  </div>

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>