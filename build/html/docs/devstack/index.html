

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DevStack &mdash; JetChars alpha documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="JetChars alpha documentation" href="../../index.html"/>
        <link rel="next" title="DevStack with DVR" href="../devstack_dvr/index.html"/>
        <link rel="prev" title="KVM Optimization" href="../kvm_optimization/index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> JetChars
          

          
          </a>

          
            
            
              <div class="version">
                0.1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../cloud_computing.html">Cloud Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws/index.html">AWS &#8211; Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws_vpn/index.html">Build VPN with AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/index.html">Docker</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph.html">Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_deploy.html">Ceph Deploy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_issues.html">Ceph Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_management_platforms.html">Ceph Management Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_openstack.html">Ceph w/ OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph/ceph_ops.html">Ceph Operation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../web/bootstrap.html">bootstrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/html.html">HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/web.html">Web Server</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../openstack/index.html">OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nova.html">Nova</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sahara/index.html">Sahara</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kvm_optimization/index.html">KVM Optimization</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">DevStack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="#executable-files">Executable files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#config-files">Config files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#service-list">Service List</a></li>
<li class="toctree-l3"><a class="reference internal" href="#switches">Switches</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multi-host">Multi Host</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log">Log</a></li>
<li class="toctree-l3"><a class="reference internal" href="#neutron">Neutron</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#components">Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network-node">Network Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compute-nodes">Compute Nodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cinder">Cinder</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dependency">Dependency</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-values">Default Values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nova">Nova</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configure-file">Configure file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#swift">Swift</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sahara">Sahara</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#post-script-file">Post Script file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../devstack_dvr/index.html">DevStack with DVR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devstack_t13g/index.html">DevStack Trouble Shooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../o7k_docker/index.html">OpenStack &amp; Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osp7_director.html">OpenStack Platform 7 Director</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hadoop/index.html">Hadoop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hadoop_conf_tuning/index.html">Hadoop Configuration Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hadoop_hibench/index.html">HiBench - The Hadoop BenchMark Suit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doopshot/index.html">DoopShot</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../linux/freebsd.html">FreeBSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_disk.html">Linux Disk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_doc.html">Documentation Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_info.html">Get System Infos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_mon.html">Linux Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_net.html">Linux Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_pkg.html">Linux Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/linux_virt.html">Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/shell.html">Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/ubuntu.html">Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pxe/index.html">PXE &#8211; Preboot Execution Enviriment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../screen/index.html">Screen - Full-screen window manager</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../git.html">Git &#8211; Extraordinary version contrl software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../github/index.html">GitHub &#8211; Git repository hosting service</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../regex/index.html">Regular Expression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql/index.html">SQL &#8211; Structured Query Language</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rst.html">reStructured Text (rst)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../md.html">MarkDown (md)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../svg/index.html">Scalable Vector Graphics (SVG)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../netease_homework/os.html">Operating System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sort.html">Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_structure.html">Review DataStructure with Pics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../amqp/index.html">AMQP &#8211; Advanced Message Queuing Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rest.html">RESTful API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../microservices/index.html">MicroServices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows/index.html">Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mac.html">Mac as Main OS</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../kickstart/index.html">Kickstart Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">JetChars</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
    <li>DevStack</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/docs/devstack/index.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <img alt="../../_images/devstack.png" class="align-right" src="../../_images/devstack.png" />
<div class="section" id="id1">
<h1><a class="reference external" href="http://git.openstack.org/cgit/openstack-dev/devstack/">DevStack</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Currently, DevStack is openstack developers&#8217; official installation method, but mainstream installation tool still packstack.</p>
<div class="sidebar">
<p class="first sidebar-title">Note</p>
<div class="last line-block">
<div class="line"><a class="reference external" href="https://review.openstack.org/gitweb?p=openstack-dev/devstack.git;a=summary">devstack git review</a></div>
<div class="line"><a class="reference external" href="https://review.openstack.org/#/admin/groups/50,members">Core Members</a></div>
<div class="line">One of devstack core members, <strong>Dean Troyer</strong> write 8 issues, none approved and 7 of 8 got -1!</div>
</div>
</div>
<div class="section" id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Create stack user</li>
</ol>
<div class="line-block">
<div class="line">stack.sh is DevStack&#8217;s main function, it should run with stack user with sudo privileges. and have privileges to all nodes.</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span>groupadd stack
useradd -g stack -s /bin/bash -d /opt/stack -m stack
<span class="nb">echo</span> <span class="s2">&quot;stack ALL=(ALL) NOPASSWD: ALL&quot;</span> &gt;&gt; /etc/sudoers
su - stack
ssh-keygen -t rsa -P <span class="s1">&#39;&#39;</span>
ssh-copy-id localhost
</pre></div>
</td></tr></table></div>
<ol class="arabic simple" start="2">
<li>Download DevStack</li>
</ol>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>git clone https://git.openstack.org/openstack-dev/devstack
<span class="nb">cd</span> devstack
</pre></div>
</td></tr></table></div>
<div class="line-block">
<div class="line">Also have another repo at github:   <code class="docutils literal"><span class="pre">https://github.com/openstack-dev/devstack</span></code></div>
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="3">
<li>Config DevStack</li>
</ol>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">local.conf</span></code> is devstack&#8217;s <em>user config file</em>, <code class="docutils literal"><span class="pre">stack.sh</span></code> will read this file before it&#8217;s default config file <code class="docutils literal"><span class="pre">stackrc</span></code></li>
<li><code class="docutils literal"><span class="pre">stackrc</span></code> : git repositories for all of the OpenStack services are defined in here. we can modify param <code class="docutils literal"><span class="pre">GIT_BASE</span></code> to change scheme or repo, eg: <code class="docutils literal"><span class="pre">git://git.openstack.org</span></code> to <code class="docutils literal"><span class="pre">https://github.com</span></code></li>
</ul>
<ol class="arabic" start="4">
<li><p class="first">Expected Result:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>Horizon is now available at http://192.168.48.134/
Keystone is serving at http://192.168.48.134:5000/v2.0/
Examples on using novaclient command line is in exercise.sh
The default users are: admin and demo
The password: openstack
This is your host ip: 192.168.48.134
</pre></div>
</div>
</li>
<li><p class="first">Get admin creds</p>
</li>
</ol>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>. openrc admin admin
. openrc demo demo
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="executable-files">
<h2>Executable files<a class="headerlink" href="#executable-files" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><strong>stack.sh</strong> &#8211; main script, will read <em>stackrc</em>, then <em>localrc</em>, will create <em>.localrc.auto</em></p>
</li>
<li><dl class="first docutils">
<dt><strong>local.sh</strong> &#8211; user made script, will run at the end of stack.sh</dt>
<dd><p class="first last">for i in <cite>seq 4 10</cite>; do nova-manage fixed reserve 10.1.1.$i; done   # reserve IPs for management
sudo service firewalld stop   # firewalld need to be disabled for cinder &amp; neutron</p>
</dd>
</dl>
</li>
<li><p class="first"><strong>rejoin-stack.sh</strong> &#8211; rejoin stack after restart server</p>
</li>
<li><p class="first"><strong>unstack.sh</strong> &#8211; uninstall openstack, but not remove dependent packages</p>
</li>
<li><p class="first"><strong>clean.sh</strong> &#8211; uninstall openstack (will run <em>unstack.sh</em> within it), and remove all dependent packages</p>
</li>
</ul>
</div>
<div class="section" id="config-files">
<h2>Config files<a class="headerlink" href="#config-files" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">The new config file <code class="docutils literal"><span class="pre">local.conf</span></code> is an extended-INI format that introduces a new meta-section header that provides some additional information such as a <strong>phase name</strong> and <strong>destination config filename</strong></div>
<div class="line"><br /></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>[[ &lt;phase&gt; | &lt;config-file-name&gt; ]]
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">phase</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>local</td>
<td>If localrc exists it will be used instead to preserve backward-compatibility</td>
</tr>
<tr class="row-odd"><td>pre-install</td>
<td>runs after the system packages are installed but before any of the source repositories are installed</td>
</tr>
<tr class="row-even"><td>install</td>
<td>runs immediately after the repo installations are complete</td>
</tr>
<tr class="row-odd"><td>post-config</td>
<td>runs after the layer 2 services are configured and before they are started</td>
</tr>
<tr class="row-even"><td>extra</td>
<td>runs after services are started and before any files in extra.d are executed</td>
</tr>
<tr class="row-odd"><td>post-extra</td>
<td>runs after files in extra.d are executed</td>
</tr>
</tbody>
</table>
<div class="section" id="service-list">
<h3>Service List<a class="headerlink" href="#service-list" title="Permalink to this headline">¶</a></h3>
<p>according to stackrc, if &#8216;ENABLED_SERVICES&#8217; it is null, will install all default service.</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">service</th>
<th class="head">components</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>default</td>
<td>g-api/g-reg/key/n-api/n-crt/n-obj/n-cpu/n-net/n-cond/n-sch/n-novnc/n-xvnc/n-cauth</td>
</tr>
<tr class="row-odd"><td>nova</td>
<td>n-api/n-crt/n-obj/n-cpu/n-net/n-cond/n-sch/n-novnc/n-xvnc/n-cauth</td>
</tr>
<tr class="row-even"><td>cinder</td>
<td>c-sci/c-api/c-vol</td>
</tr>
<tr class="row-odd"><td>heat</td>
<td>h-eng/h-api/h-api-cfn/h-api-cw</td>
</tr>
<tr class="row-even"><td>neutron</td>
<td>neutron/q-l3/q-agt/q-dhcp/q-api/q-svc/q-meta/q-fwaas/q-lbaas/q-vpn/q-metering/q-domua</td>
</tr>
<tr class="row-odd"><td>horizon</td>
<td>horizon</td>
</tr>
<tr class="row-even"><td>sahara</td>
<td>sahara</td>
</tr>
<tr class="row-odd"><td>ceilometer</td>
<td>ceilometer-acompute, ceilometer-acentral, ceilometer-anotification, ceilometer-collector, ceilometer-alarm-evaluator, ceilometer-alarm-notifier, ceilometer-api</td>
</tr>
<tr class="row-even"><td>others</td>
<td>rabbit, tempest, mysql</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="switches">
<h3>Switches<a class="headerlink" href="#switches" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">RECLONE</span><span class="o">=</span><span class="bp">False</span>
<span class="n">OFFLINE</span><span class="o">=</span><span class="bp">False</span>
</pre></div>
</div>
</div>
<div class="section" id="multi-host">
<h3>Multi Host<a class="headerlink" href="#multi-host" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Default: <code class="docutils literal"><span class="pre">MULTI_HOST=False</span></code></div>
<div class="line">Running DevStack with multiple hosts requires a custom local.conf section for each host. The master is the same as a single host installation with MULTI_HOST=True. The slaves have fewer services enabled and a couple of host variables pointing to the master. <a class="footnote-reference" href="#id3" id="id2">[1]</a></div>
<div class="line"><br /></div>
</div>
<ul>
<li><p class="first">Master:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">MULTI_HOST</span><span class="o">=</span><span class="bp">True</span>
</pre></div>
</div>
</li>
<li><p class="first">Slave:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>MYSQL_HOST=w.x.y.z
RABBIT_HOST=w.x.y.z
GLANCE_HOSTPORT=w.x.y.z:9292
ENABLED_SERVICES=n-vol,n-cpu,n-net,n-api
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="log">
<h3>Log<a class="headerlink" href="#log" title="Permalink to this headline">¶</a></h3>
<div class="sidebar">
<p class="first sidebar-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">SCREEN_LOGDIR</span></code> is now deprecated, although will create this folder, but log files stores in <code class="docutils literal"><span class="pre">LOGDIR</span></code>, soft link to files in SCREEN_LOGDIR</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>LOGDIR=$DEST/logs
LOGFILE=$LOGDIR/stack.sh.log
LOGDAYS=7
LOGCOLOR=False
SYSLOG=True
SYSLOG_HOST=$SERVICE_HOST
SCREEN_LOGDIR=$LOGDIR/screen
</pre></div>
</div>
</div>
<div class="section" id="neutron">
<h3>Neutron<a class="headerlink" href="#neutron" title="Permalink to this headline">¶</a></h3>
<div class="section" id="components">
<h4>Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>q-agt</strong> &#8211; Each node need <code class="docutils literal"><span class="pre">q-agt</span></code>, Restart q-agt can help reset network settings (ovs).</li>
<li><strong>q-dhcp</strong> &#8211; OpenStack Networking agent that provides DHCP services for virtual networks</li>
<li><strong>q-l3</strong> &#8211; OpenStack Networking agent that provides layer-3 (routing) services for virtual networks.</li>
</ul>
</div>
<div class="section" id="network-node">
<h4>Network Node<a class="headerlink" href="#network-node" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="compute-nodes">
<h4>Compute Nodes<a class="headerlink" href="#compute-nodes" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="cinder">
<h3>Cinder<a class="headerlink" href="#cinder" title="Permalink to this headline">¶</a></h3>
<div class="section" id="dependency">
<h4>Dependency<a class="headerlink" href="#dependency" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>lib/cinder</strong> &#8211; configure cinder service</li>
<li><strong>lib/lvm</strong> &#8211; default driver</li>
<li><strong>lib/cinder_plugins/{glusterfs,nfs,sheepdog,vsphere,XENAPINFS}</strong></li>
<li><strong>lib/cinder_backends/{ceph,glusterfs,lvm,netapp_iscsi,netapp_nfs,nfs,solidfire,vmdk,xiv}</strong></li>
</ul>
</div>
<div class="section" id="default-values">
<h4>Default Values<a class="headerlink" href="#default-values" title="Permalink to this headline">¶</a></h4>
<div class="sidebar">
<p class="first sidebar-title">Warning</p>
<p>volume group in host should named as <code class="docutils literal"><span class="pre">${VOLUME_GROUP}-${be_name}</span></code>
eg: <code class="docutils literal"><span class="pre">stack-volumes-lvmdriver-1</span></code></p>
<ul class="last">
<li><p class="first">lib/cinder:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>for be in ${CINDER_ENABLED_BACKENDS//,/ }; do
    be_type=${be%%:*}
    be_name=${be##*:}
done
</pre></div>
</div>
</li>
</ul>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>CINDER_DRIVER=default
VOLUME_GROUP=&quot;stack-volumes&quot;
VOLUME_NAME_PREFIX=&quot;volume-&quot;
VOLUME_BACKING_FILE_SIZE=10250M
CINDER_ENABLED_BACKENDS=-lvm:lvmdriver-1,lvm:lvmdriver-2   # enable multi_lvm_backend
</pre></div>
</div>
<p><strong>CINDER_DRIVER :</strong> default driver means lvm, other options are <code class="docutils literal"><span class="pre">glusterfs</span></code> <code class="docutils literal"><span class="pre">nfs</span></code> <code class="docutils literal"><span class="pre">sheepdog</span></code> <code class="docutils literal"><span class="pre">vsphere</span></code> <code class="docutils literal"><span class="pre">XenAPINFS</span></code>, contains <code class="docutils literal"><span class="pre">function</span> <span class="pre">configure_cinder_driver</span></code></p>
</div>
</div>
<div class="section" id="nova">
<h3>Nova<a class="headerlink" href="#nova" title="Permalink to this headline">¶</a></h3>
<div class="section" id="configure-file">
<h4>Configure file<a class="headerlink" href="#configure-file" title="Permalink to this headline">¶</a></h4>
<p><strong>Control node</strong></p>
<p><strong>Compute node</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>NOVA_VNC_ENABLED=True
NOVNCPROXY_URL=&quot;http://${SERVICE_HOST}:6080/vnc_auto.html&quot;
VNCSERVER_LISTEN=$HOST_IP
VNCSERVER_PROXYCLIENT_ADDRESS=$VNCSERVER_LISTEN
</pre></div>
</div>
</div>
</div>
<div class="section" id="swift">
<h3>Swift<a class="headerlink" href="#swift" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span>enable service s-proxy s-object s-container s-account
SWIFT_HASH=66a3d6b56c1f479c8b4e70ab5c2000f5
SWIFT_REPLICAS=1
SWIFT_DATA_DIR=$DEST/data/swift
SWIFT_LOOPBACK_DISK_SIZE=6G
</pre></div>
</div>
</div>
<div class="section" id="sahara">
<h3>Sahara<a class="headerlink" href="#sahara" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span>ENABLED_SERVICES+=,sahara
EXTRA_OPTS=(auto_assign_floating_ip=True)
</pre></div>
</div>
</div>
</div>
<div class="section" id="post-script-file">
<h2>Post Script file<a class="headerlink" href="#post-script-file" title="Permalink to this headline">¶</a></h2>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td><a class="reference external" href="https://github.com/openstack-dev/devstack/blob/edfcb5f0bd9faa3c55ad1691465a45b7ef221789/doc/source/configuration.rst">https://github.com/openstack-dev/devstack/blob/edfcb5f0bd9faa3c55ad1691465a45b7ef221789/doc/source/configuration.rst</a></td></tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../devstack_dvr/index.html" class="btn btn-neutral float-right" title="DevStack with DVR" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../kvm_optimization/index.html" class="btn btn-neutral" title="KVM Optimization" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, JetChars.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'alpha',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>